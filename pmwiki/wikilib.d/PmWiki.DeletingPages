version=pmwiki-2.2.35 ordered=1 urlencoded=1
author=Petko
charset=UTF-8
csum=refactor, shorter
name=PmWiki.DeletingPages
rev=32
targets=PmWiki.WikiAdministrator,Site.AllRecentChanges,PmWiki.EditVariables,Cookbook.DeleteAction,PmWiki.BackupAndRestore,Cookbook.CleanUp,PmWiki.WikiGroup,PmWiki.Categories,PmWiki.RecentChanges,Cookbook.RecentChangesDeletion
text=(:Summary: Page maintenance:)%0aTo delete a page, edit the page, select (highlight) all text in the edit textarea and replace it with the single word%0a%0a->[@delete@]%0a%0aNote that it may be a good idea to add a comment to the field @@summary@@%0aexplaining why you deleted the page. (The field @@summary@@ is usually found%0ajust below the edit textarea).%0a%0aAfter saving the changes the page is deleted.  As an added safety feature, the deleted page still exists on the server (with a timestamp) and can be restored to the former page by the [[wiki administrator]].%0a%0aIf you suspect that a page has been deleted but aren't sure, have a look at the wikigroup's [=RecentChanges=]. Erasing a page counts as editing the page, and the activity is recorded there and on [[{$SiteGroup}.AllRecentChanges]].%0a%0aThe default word used for page deletion ("delete") can be changed in config.php by setting the variable $DeleteKeyPattern (see [[Edit Variables]]). If there is a danger of malicious page deletion it may be a good idea to change the delete word to something more obscure. There is also a recipe for creating a separate delete action at Cookbook:DeleteAction.%0a%0a[[#cleanup]]%0a!! Removing deleted pages%0a%0aThe deleted pages are kept in the wiki.d directory, with an extension of @@,del-123456789@@ where @@123456789@@ is a unique number (timestamp). A wiki administrator may log into the server via FTP or SSH and periodically remove these files.%0a%0aOne way to remove the files is to delete them from your file manager. If you have shell access, you could use different commands, for example, go into the wiki.d directory and type one of these lines:%0a%0a  rm -f *,del-*%0a  find wiki.d -name '*,del-*' -delete%0a%0aAlternatively, the Cookbook:CleanUp recipe can purge those unused files. See also [[BackupAndRestore]].%0a%0a%0a>>faq%3c%3c [[#faq]]%0a%0aQ: Deleting [[Wiki Group]]s & [[Categories]]: Once I create a Group or Category, how can I get rid of that group or category?%0aA: An admin can just remove the unwanted pages from wiki.d/ .  Normally, doing it via the wiki%0adoesn't resolve the problem, since it counts as an "update" which causes the [[Recent Changes]] page to be re-created, but it is possible to modify the site's configuration to allow deletion of the group's RecentChanges page -- see Cookbook:RecentChangesDeletion.%0aA: To delete a category, first delete the [@[[!Category]]@] links from all pages to that category, then just delete the category page as explained above.%0a
time=1325092928
